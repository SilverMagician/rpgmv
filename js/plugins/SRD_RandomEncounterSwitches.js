/*: 
 * @plugindesc A plugin that allows you to control encounters for multiple different maps using multiple different switches.
 *
 * @author SumRndmDde
 *
 * @param Start w/o RndmEnctrs
 * @desc If you want random encounters to be active when the switch is on, set this to "true"; for the opposite, "false".
 * @default true
 *
 * @param [Switches 1-10]
 * @desc 
 * @default ------------------------------
 *
 * @param Switch 1
 * @desc Input the Switch ID used to control encounters in all maps listed in the "Switch 1 Maps". 
 * @default 0
 *
 * @param Switch 1 Maps
 * @desc Input the list of all the Map IDs you wish to be affected by "Switch 1". Seperate with commas. No spaces!
 * @default 1,2,3
 *
 * @param Switch 2
 * @desc Input the Switch ID used to control encounters in all maps listed in the "Switch 2 Maps". 
 * @default 0
 *
 * @param Switch 2 Maps
 * @desc Input the list of all the Map IDs you wish to be affected by "Switch 2". Seperate with commas. No spaces!
 * @default 0
 *
 * @param Switch 3
 * @desc Input the Switch ID used to control encounters in all maps listed in the "Switch 3 Maps". 
 * @default 0
 *
 * @param Switch 3 Maps
 * @desc Input the list of all the Map IDs you wish to be affected by "Switch 3". Seperate with commas. No spaces!
 * @default 0
 *
 * @param Switch 4
 * @desc Input the Switch ID used to control encounters in all maps listed in the "Switch 4 Maps". 
 * @default 0
 *
 * @param Switch 4 Maps
 * @desc Input the list of all the Map IDs you wish to be affected by "Switch 4". Seperate with commas. No spaces!
 * @default 0
 *
 * @param Switch 5
 * @desc Input the Switch ID used to control encounters in all maps listed in the "Switch 5 Maps". 
 * @default 0
 *
 * @param Switch 5 Maps
 * @desc Input the list of all the Map IDs you wish to be affected by "Switch 5". Seperate with commas. No spaces!
 * @default 0
 *
 * @param Switch 6
 * @desc Input the Switch ID used to control encounters in all maps listed in the "Switch 6 Maps". 
 * @default 0
 *
 * @param Switch 6 Maps
 * @desc Input the list of all the Map IDs you wish to be affected by "Switch 6". Seperate with commas. No spaces!
 * @default 0
 *
 * @param Switch 7
 * @desc Input the Switch ID used to control encounters in all maps listed in the "Switch 7 Maps". 
 * @default 0
 *
 * @param Switch 7 Maps
 * @desc Input the list of all the Map IDs you wish to be affected by "Switch 7". Seperate with commas. No spaces!
 * @default 0
 *
 * @param Switch 8
 * @desc Input the Switch ID used to control encounters in all maps listed in the "Switch 7 Maps". 
 * @default 0
 *
 * @param Switch 8 Maps
 * @desc Input the list of all the Map IDs you wish to be affected by "Switch 8". Seperate with commas. No spaces!
 * @default 0
 *
 * @param Switch 9
 * @desc Input the Switch ID used to control encounters in all maps listed in the "Switch 9 Maps". 
 * @default 0
 *
 * @param Switch 9 Maps
 * @desc Input the list of all the Map IDs you wish to be affected by "Switch 9". Seperate with commas. No spaces!
 * @default 0
 *
 * @param Switch 10
 * @desc Input the Switch ID used to control encounters in all maps listed in the "Switch 10 Maps". 
 * @default 0
 *
 * @param Switch 10 Maps
 * @desc Input the list of all the Map IDs you wish to be affected by "Switch 10". Seperate with commas. No spaces!
 * @default 0
 *
 * @param [Switches 11-20]
 * @desc 
 * @default ------------------------------
 *
 * @param Switch 11
 * @desc Input the Switch ID used to control encounters in all maps listed in the "Switch 11 Maps". 
 * @default 0
 *
 * @param Switch 11 Maps
 * @desc Input the list of all the Map IDs you wish to be affected by "Switch 11". Seperate with commas. No spaces!
 * @default 0
 *
 * @param Switch 12
 * @desc Input the Switch ID used to control encounters in all maps listed in the "Switch 12 Maps". 
 * @default 0
 *
 * @param Switch 12 Maps
 * @desc Input the list of all the Map IDs you wish to be affected by "Switch 12". Seperate with commas. No spaces!
 * @default 0
 *
 * @param Switch 13
 * @desc Input the Switch ID used to control encounters in all maps listed in the "Switch 13 Maps". 
 * @default 0
 *
 * @param Switch 13 Maps
 * @desc Input the list of all the Map IDs you wish to be affected by "Switch 13". Seperate with commas. No spaces!
 * @default 0
 *
 * @param Switch 14
 * @desc Input the Switch ID used to control encounters in all maps listed in the "Switch 14 Maps". 
 * @default 0
 *
 * @param Switch 14 Maps
 * @desc Input the list of all the Map IDs you wish to be affected by "Switch 14". Seperate with commas. No spaces!
 * @default 0
 *
 * @param Switch 15
 * @desc Input the Switch ID used to control encounters in all maps listed in the "Switch 15 Maps". 
 * @default 0
 *
 * @param Switch 15 Maps
 * @desc Input the list of all the Map IDs you wish to be affected by "Switch 15". Seperate with commas. No spaces!
 * @default 0
 *
 * @param Switch 16
 * @desc Input the Switch ID used to control encounters in all maps listed in the "Switch 16 Maps". 
 * @default 0
 *
 * @param Switch 16 Maps
 * @desc Input the list of all the Map IDs you wish to be affected by "Switch 16". Seperate with commas. No spaces!
 * @default 0
 *
 * @param Switch 17
 * @desc Input the Switch ID used to control encounters in all maps listed in the "Switch 17 Maps". 
 * @default 0
 *
 * @param Switch 17 Maps
 * @desc Input the list of all the Map IDs you wish to be affected by "Switch 17". Seperate with commas. No spaces!
 * @default 0
 *
 * @param Switch 18
 * @desc Input the Switch ID used to control encounters in all maps listed in the "Switch 18 Maps". 
 * @default 0
 *
 * @param Switch 18 Maps
 * @desc Input the list of all the Map IDs you wish to be affected by "Switch 18". Seperate with commas. No spaces!
 * @default 0
 *
 * @param Switch 19
 * @desc Input the Switch ID used to control encounters in all maps listed in the "Switch 19 Maps". 
 * @default 0
 *
 * @param Switch 19 Maps
 * @desc Input the list of all the Map IDs you wish to be affected by "Switch 19". Seperate with commas. No spaces!
 * @default 0
 *
 * @param Switch 20
 * @desc Input the Switch ID used to control encounters in all maps listed in the "Switch 20 Maps". 
 * @default 0
 *
 * @param Switch 20 Maps
 * @desc Input the list of all the Map IDs you wish to be affected by "Switch 20". Seperate with commas. No spaces!
 * @default 0
 *
 * @param [Switches 21-30]
 * @desc 
 * @default ------------------------------
 *
 * @param Switch 21
 * @desc Input the Switch ID used to control encounters in all maps listed in the "Switch 21 Maps". 
 * @default 0
 *
 * @param Switch 21 Maps
 * @desc Input the list of all the Map IDs you wish to be affected by "Switch 21". Seperate with commas. No spaces!
 * @default 0
 *
 * @param Switch 22
 * @desc Input the Switch ID used to control encounters in all maps listed in the "Switch 22 Maps". 
 * @default 0
 *
 * @param Switch 22 Maps
 * @desc Input the list of all the Map IDs you wish to be affected by "Switch 22". Seperate with commas. No spaces!
 * @default 0
 *
 * @param Switch 23
 * @desc Input the Switch ID used to control encounters in all maps listed in the "Switch 23 Maps". 
 * @default 0
 *
 * @param Switch 23 Maps
 * @desc Input the list of all the Map IDs you wish to be affected by "Switch 23". Seperate with commas. No spaces!
 * @default 0
 *
 * @param Switch 24
 * @desc Input the Switch ID used to control encounters in all maps listed in the "Switch 24 Maps". 
 * @default 0
 *
 * @param Switch 24 Maps
 * @desc Input the list of all the Map IDs you wish to be affected by "Switch 24". Seperate with commas. No spaces!
 * @default 0
 *
 * @param Switch 25
 * @desc Input the Switch ID used to control encounters in all maps listed in the "Switch 25 Maps". 
 * @default 0
 *
 * @param Switch 25 Maps
 * @desc Input the list of all the Map IDs you wish to be affected by "Switch 25". Seperate with commas. No spaces!
 * @default 0
 *
 * @param Switch 26
 * @desc Input the Switch ID used to control encounters in all maps listed in the "Switch 26 Maps". 
 * @default 0
 *
 * @param Switch 26 Maps
 * @desc Input the list of all the Map IDs you wish to be affected by "Switch 26". Seperate with commas. No spaces!
 * @default 0
 *
 * @param Switch 27
 * @desc Input the Switch ID used to control encounters in all maps listed in the "Switch 27 Maps". 
 * @default 0
 *
 * @param Switch 27 Maps
 * @desc Input the list of all the Map IDs you wish to be affected by "Switch 27". Seperate with commas. No spaces!
 * @default 0
 *
 * @param Switch 28
 * @desc Input the Switch ID used to control encounters in all maps listed in the "Switch 28 Maps". 
 * @default 0
 *
 * @param Switch 28 Maps
 * @desc Input the list of all the Map IDs you wish to be affected by "Switch 28". Seperate with commas. No spaces!
 * @default 0
 *
 * @param Switch 29
 * @desc Input the Switch ID used to control encounters in all maps listed in the "Switch 29 Maps". 
 * @default 0
 *
 * @param Switch 29 Maps
 * @desc Input the list of all the Map IDs you wish to be affected by "Switch 29". Seperate with commas. No spaces!
 * @default 0
 *
 * @param Switch 30
 * @desc Input the Switch ID used to control encounters in all maps listed in the "Switch 30 Maps". 
 * @default 0
 *
 * @param Switch 30 Maps
 * @desc Input the list of all the Map IDs you wish to be affected by "Switch 30". Seperate with commas. No spaces!
 * @default 0
 *
 * @param [Switches 31-40]
 * @desc 
 * @default ------------------------------
 *
 * @param Switch 31
 * @desc Input the Switch ID used to control encounters in all maps listed in the "Switch 31 Maps". 
 * @default 0
 *
 * @param Switch 31 Maps
 * @desc Input the list of all the Map IDs you wish to be affected by "Switch 31". Seperate with commas. No spaces!
 * @default 0
 *
 * @param Switch 32
 * @desc Input the Switch ID used to control encounters in all maps listed in the "Switch 32 Maps". 
 * @default 0
 *
 * @param Switch 32 Maps
 * @desc Input the list of all the Map IDs you wish to be affected by "Switch 32". Seperate with commas. No spaces!
 * @default 0
 *
 * @param Switch 33
 * @desc Input the Switch ID used to control encounters in all maps listed in the "Switch 33 Maps". 
 * @default 0
 *
 * @param Switch 33 Maps
 * @desc Input the list of all the Map IDs you wish to be affected by "Switch 33". Seperate with commas. No spaces!
 * @default 0
 *
 * @param Switch 34
 * @desc Input the Switch ID used to control encounters in all maps listed in the "Switch 34 Maps". 
 * @default 0
 *
 * @param Switch 34 Maps
 * @desc Input the list of all the Map IDs you wish to be affected by "Switch 34". Seperate with commas. No spaces!
 * @default 0
 *
 * @param Switch 35
 * @desc Input the Switch ID used to control encounters in all maps listed in the "Switch 35 Maps". 
 * @default 0
 *
 * @param Switch 35 Maps
 * @desc Input the list of all the Map IDs you wish to be affected by "Switch 35". Seperate with commas. No spaces!
 * @default 0
 *
 * @param Switch 36
 * @desc Input the Switch ID used to control encounters in all maps listed in the "Switch 36 Maps". 
 * @default 0
 *
 * @param Switch 36 Maps
 * @desc Input the list of all the Map IDs you wish to be affected by "Switch 36". Seperate with commas. No spaces!
 * @default 0
 *
 * @param Switch 37
 * @desc Input the Switch ID used to control encounters in all maps listed in the "Switch 37 Maps". 
 * @default 0
 *
 * @param Switch 37 Maps
 * @desc Input the list of all the Map IDs you wish to be affected by "Switch 37". Seperate with commas. No spaces!
 * @default 0
 *
 * @param Switch 38
 * @desc Input the Switch ID used to control encounters in all maps listed in the "Switch 38 Maps". 
 * @default 0
 *
 * @param Switch 38 Maps
 * @desc Input the list of all the Map IDs you wish to be affected by "Switch 38". Seperate with commas. No spaces!
 * @default 0
 *
 * @param Switch 39
 * @desc Input the Switch ID used to control encounters in all maps listed in the "Switch 39 Maps". 
 * @default 0
 *
 * @param Switch 39 Maps
 * @desc Input the list of all the Map IDs you wish to be affected by "Switch 39". Seperate with commas. No spaces!
 * @default 0
 *
 * @param Switch 40
 * @desc Input the Switch ID used to control encounters in all maps listed in the "Switch 40 Maps". 
 * @default 0
 *
 * @param Switch 40 Maps
 * @desc Input the list of all the Map IDs you wish to be affected by "Switch 40". Seperate with commas. No spaces!
 * @default 0
 *
 * @help 
 *
 * Random Encounter Switches
 * Version 1.00
 * SumRndmDde
 *
 *
 * Important Notes:
 * File name must be retained. (SRD_RandomEncounterSwitches)
 * This plugin does not have any plugin commands.
 *
 *
 * How to Use:
 * Let's say you wish to prevent random encounters from occuring on a 
 * certain group of maps using a Switch?
 * You can do so by doing the following:
 *
 * - Go to one of the Switch X parameters; set the Switch ID you wish to use.
 * - Go to the corresponding Switch X Maps, and set all the Map IDs you wish to 
 * be affected. Don't use any spaces and seperate each ID with a comma.
 * - Now, depending on the state of Switch ID X, the maps grouped in 
 * Switch X Maps will be affected.
 *
 * Important!
 * Parameter: Start w/o RndmEnctrs
 * The first parameter determines whether Switches will turn encounters
 * on or off.
 * Setting it to "true" will make it so the Switch will have to be turned
 * on for the encounters to be turned on.
 * Setting it to "false" will make it so the Switch will have to be turned
 * off for the encounters to be turned on.
 *
 * Thanks for reading!
 * If you have questions, please do not hesitate to ask on my YouTube channel:
 * https://www.youtube.com/SumRndmDde
 *
 * Until next time,
 *   ~ SumRndmDde
 */

(function() {

    var parameters = PluginManager.parameters('SRD_RandomEncounterSwitches');
    var numberOfParameters = 30;

    var switches = [];
    var maps = [];

    //Sets parameter values into arrays
    for(var i = 0; i < numberOfParameters; i += 1)
    {
        switches[i] = Number(parameters['Switch ' + (i+1)]);

        var temp = String(parameters['Switch ' + (i+1) + ' Maps']);
        maps[i] = temp.split(',');
    }

    //Transfers 'Start w/o RndmEnctrs' to a boolean variable
    var encounterType;
    if(parameters['Start w/o RndmEnctrs'] == 'true')
    {
        encounterType = true;
    }
    else
    {
        encounterType = false;
    }

    //Self-created function
    //Checks to see if the parameters allow encounters on the current map
    Game_Player.prototype.canMapEncounter = function() {

        for(var i = 0; i < maps.length; i += 1)
        {
            if(maps[i].indexOf(String($gameMap.mapId())) != -1)
            {
                if((encounterType) ? !$gameSwitches.value(Number(switches[i])) : $gameSwitches.value(Number(switches[i])))
                {
                    return false;
                }
            }
        }
        return true;
    };

    //Aliased function
    //Added canMapEncounter() to conditions
    var _Game_Player_canEncounter = Game_Player.prototype.canEncounter;
    Game_Player.prototype.canEncounter = function() {

        return (_Game_Player_canEncounter.call(this) && this.canMapEncounter());

    };

})();